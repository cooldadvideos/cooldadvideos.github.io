<html>
  <head>
      <title>Kind Wrath</title>
      <meta name="description" content="Wrath">  
      <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
      <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
      <script src="https://cdn.rawgit.com/matthewbryancurtis/aframe-star-system-component/db4f1030/index.js"></script>
      <link rel="stylesheet" href="./Scripts/styles.css">
     
     <script>
      
        // runs when user clicks button
         AFRAME.registerComponent('start', {
    
      init: function()
      {
        // block pointer events until buttonEnter is clicked
        let uiDiv = document.getElementById("uiDiv");
        uiDiv.style["pointer-events"] = "auto";
    
        // set up background blocker
        uiDiv.style["background-color"] = "rgba(0, 0, 0, 1)";
    
        // indicate clickable with hand cursor (desktop)
        let buttonEnter = document.getElementById("buttonEnter");
        buttonEnter.style.cursor = "pointer";
    
        // fade-in functionality
        let fadeIn = function()
        {
          // allow point events again
          uiDiv.style["pointer-events"] = "none";
    
          // sounds can only be triggered after a mouse interaction
          let soundPlayer = document.querySelector("#ambientSound");
          soundPlayer.components.sound.playSound();
    
          // remove startButton
          buttonEnter.parentNode.remove(buttonEnter);
    
          // fade out uiDiv background
          uiDiv.style["background-color"] = "rgba(0, 0, 0, 0.0)";
            uiDiv.style["transition"] = "background-color 2000ms linear";
        }
    
        // activate for desktop/touchscreen
        buttonEnter.addEventListener('touchstart', fadeIn);
        buttonEnter.addEventListener('mousedown',  fadeIn);
      }
    });
    </script>
  
    </head>
      
<body>
      
      <div class="mainUI" id="uiDiv" oncontextmenu="return false;">
        <!-- centered -->
        <div class="regionUI">
          <div class="buttonUI">
            <img src="./Assets/wrathbutton.png" id="buttonEnter" />
          </div>
        </div>
      </div>

    <a-scene loading-screen="dotsColor: white; backgroundColor: black" fog="type: linear; far: 450; near: 200; color: #fff; density: .0035" start>
      
      <a-assets>
        <a-asset-item id="deep" src="./Assets/deepsphere.glb"></a-asset-item>
        <a-asset-item id="wrathsphere" src="./Assets/wrathsphere3.glb"></a-asset-item>
        <audio id="kindwrath" src="./Assets/kindwrath.mp3" preload="auto"></audio>
      </a-assets>

      <!--Vibes-->
      <a-entity id= "ambientSound" sound="src: #kindwrath; loop: true; positional: false;"></a-entity>

      <!--Camera-->
      <a-entity id="rig" camera look-controls wasd-controls="acceleration:10" position="0 1.6 50"></a-entity>
      
      <!--Lights-->
      <a-entity light="type: directional; color: #EEE; intensity: 2" position="0 4 0" angle="45"></a-entity>
      <a-entity light="type: ambient; color: #EEE; intensity: 1" position="-100 1 0"></a-entity>
     
 
      <!--Actors-->
      <a-entity gltf-model="#wrathsphere" animation-mixer scale="30 30 30" roughness="1" position="0 -50 -50"></a-entity>
      
      <!--Spheres-->
      <a-entity position="0 0 0" animation="property: rotation; dur: 30000; to: 360; loop: true;">  
        <a-sphere opacity=".25" segments-height= "48" segments-width="48" color="gray" scale="300 300 300" roughness="1" position="20 0 -600"></a-sphere>
      </a-entity>

      <a-entity rotation= "10 60 0">
          <a-entity position="0 0 0" animation="property: rotation; dur: 50000; from: 0; to: 360; loop: true;">
          <a-sphere opacity="1" segments-height= "48" segments-width="48" color="gray" scale="300 300 300" roughness=".75" position="20 -250 -500"></a-sphere>
      </a-entity></a-entity>

      <a-entity rotation= "0 280 0">
          <a-entity position="0 0 0" animation="property: rotation; dur: 40000; from: 0; to: 360; loop: true;">
          <a-sphere opacity="1" segments-height= "48" segments-width="48" color="gray" scale="400 400 400" roughness=".75" position="20 -250 -600"></a-sphere>
      </a-entity></a-entity>

      <a-entity rotation= "0 280 0">
        <a-entity position="0 0 0" animation="property: rotation; dur: 55000; from: 0; to: 360; loop: true;">
        <a-sphere opacity="1" segments-height= "48" segments-width="48" color="gray" scale="200 200 200" roughness=".75" position="20 -250 -650"></a-sphere>
      </a-entity></a-entity>

      <a-entity rotation= "180 280 0">
        <a-entity position="0 0 0" animation="property: rotation; dur: 40000; from: 0; to: 360; loop: true;">
        <a-sphere opacity="1" segments-height= "48" segments-width="48" color="gray" scale="200 200 200" roughness=".75" position="20 -250 -450"></a-sphere>
     </a-entity></a-entity>

     <a-entity rotation= "0 280 90">
      <a-entity position="0 0 0" animation="property: rotation; dur: 40000; from: 0; to: 360; loop: true;">
      <a-sphere opacity="1" segments-height= "48" segments-width="48" color="gray" scale="200 200 200" roughness=".75" position="20 -250 -400"></a-sphere>
     </a-entity></a-entity>

     <a-entity rotation= "180 280 90">
      <a-entity position="0 0 0" animation="property: rotation; dur: 40000; from: 0; to: 360; loop: true;">
      <a-sphere opacity="1" segments-height= "48" segments-width="48" color="gray" scale="200 200 200" roughness=".75" position="20 -450 -350"></a-sphere>
     </a-entity></a-entity>

      <a-sky color="white"></a-sky>
      


    </a-scene>


</body>
</html>